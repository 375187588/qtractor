%define name    @PACKAGE_TARNAME@
%define version @PACKAGE_VERSION@
%define release 10
%define prefix  @ac_prefix@

Summary:	An Audio/MIDI multi-track sequencer.
Name:		%{name}
Version:	%{version}
Release:	%{release}
Prefix:		%{prefix}
License:	GPL
Group:		Productivity/Multimedia/Sound/Midi
Source0:	%{name}-%{version}.tar.gz
URL:		http://qtractor.sourceforge.net/

BuildRoot:	%{_tmppath}/%{name}-%{version}-%{release}-buildroot

Requires:	qt >= 4.1
Requires:	jack >= 0.100.0
Requires:	alsa
Requires:	libsndfile >= 1.0.11
Requires:	libvorbis
Requires:	libsamplerate
Requires:	mad

BuildRequires:	qt-devel >= 4.1
BuildRequires:	jack-devel >= 0.100.0
BuildRequires:	alsa-devel
BuildRequires:	libsndfile-devel >= 1.0.11
BuildRequires:	libvorbis-devel
BuildRequires:	libsamplerate-devel
BuildRequires:	mad-devel
BuildRequires:	ladspa

%description
Qtractor is an Audio/MIDI multi-track sequencer application
written in C++ around the Qt4 toolkit using Qt Designer.

The initial target platform will be Linux, where the Jack Audio
Connection Kit (JACK) for audio, and the Advanced Linux Sound
Architecture (ALSA) for MIDI, are the main infrastructures to
evolve as a fairly-featured Linux Desktop Audio Workstation GUI,
specially dedicated to the personal home-studio.

%prep
%setup
[ -f Makefile.cvs ] && %__make -f Makefile.cvs

%build
%configure
%__make

%install
%makeinstall

%clean
[ -d %{buildroot} -a "%{buildroot}" != "" ] && %__rm -rf  %{buildroot}

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog README TODO
%{_bindir}/%{name}
%{_datadir}/applications/%{name}.desktop
%{_datadir}/pixmaps/%{name}.png

%changelog
* Tue Oct 09 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- tenth Commencement pre-release.
* Sat Sep 08 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Ninth Hitch Nail pre-release.
* Thu Jul 19 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Eight Wanderer pre-release.
* Wed Jun 20 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Application icon is now installed to (prefix)/share/pixmaps.
- Declared fundamental build and run-time requirements.
- Destination install directory prefix is now in spec.
- Spec is now a bit more openSUSE compliant.
* Mon Apr 16 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Minor descriptive corrections.
* Fri Jan 05 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Got rid of QTDIR setting from PATH.
* Thu Nov 02 2006 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Filled up package description
* Wed Aug 24 2004 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Created initial qtractor.spec
